<mat-action-list dense style="padding: 0.5rem 0; height: 100%; box-sizing: border-box; overflow-y: auto;">
  <mat-list-item
    *ngFor="let song of _songs; let index = index"
    [ngClass]="{ selected: isSelected(song) }"
    (dblclick)="playPauseSong($event, song)"
    (click)="selectSong(song)"
  >
    <img *ngIf="!isPlayingSong(song) && song" style="border-radius: 3px;" mat-list-avatar [src]="song.metadata.coverSafeUrl" alt="cover art" />
    <canvas
      *ngIf="isPlayingSong(song) && isPlaying(song)"
      mat-list-avatar
      style="border-radius: 3px; width: 2rem; height: 2rem; object-fit: fill;"
      [mtbVisual]="analyser"
      [barCount]="8"
      [capHeight]="0"
    ></canvas>
    <h3 matLine style="font-size: 0.9rem;font-weight: bold;">{{ song.metadata.title }}</h3>
    <p matLine style="font-size: 0.8rem;">{{ song.metadata.artist }}</p>

    <button mat-icon-button (click)="playPauseSong($event, song)">
      <mat-icon *ngIf="isPlayingSong(song) && isPlaying(song)" class="accent-color">pause</mat-icon>
      <mat-icon *ngIf="isPlayingSong(song) && !isPlaying(song)" class="accent-color">play_arrow</mat-icon>
    </button>
  </mat-list-item>
</mat-action-list>
