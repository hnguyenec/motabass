<div style="padding: 0.5rem 0; height: 100%; box-sizing: border-box;">
  <mat-action-list dense style="height: 100%; overflow-y: auto; overflow-x: hidden; ">
    <mat-list-item *ngFor="let song of _songs; let index = index" [ngClass]="{ active: isActive(song) }" (click)="playSong($event, song)">
      <img *ngIf="!isPlaying(song)" style="border-radius: 3px;" mat-list-avatar [src]="song.metadata.coverSafeUrl" />
      <canvas
        *ngIf="isPlaying(song)"
        mat-list-avatar
        style="border-radius: 3px; width: 2rem; height: 2rem; object-fit: fill;"
        [mtbVisual]="analyser"
        [dimmFactor]="12"
        [meterNum]="8"
        [capHeight]="0"
      ></canvas>
      <h3 matLine style="font-size: 1.2em;font-weight: bold;">{{ song.metadata.title }}</h3>
      <p matLine>{{ song.metadata.artist }}</p>

      <button mat-icon-button>
        <mat-icon *ngIf="isPlaying(song)" (click)="pauseSong($event)">pause</mat-icon>
        <mat-icon *ngIf="!isPlaying(song)" (click)="playSong($event, song)">play_arrow</mat-icon>
      </button>
    </mat-list-item>
  </mat-action-list>
</div>
